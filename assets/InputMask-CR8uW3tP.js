import{r as C,d as fe,j as Oe}from"./index-DJP3kO4i.js";function ve(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable})),r.push.apply(r,o)}return r}function ae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ve(Object(r),!0).forEach(function(o){be(t,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))})}return t}function je(t){var e=function(r,o){if(typeof r!="object"||!r)return r;var u=r[Symbol.toPrimitive];if(u!==void 0){var n=u.call(r,o||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}(t,"string");return typeof e=="symbol"?e:e+""}function be(t,e,r){return(e=je(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ee(t,e){if(t==null)return{};var r,o,u=function(s,i){if(s==null)return{};var a,c,l={},f=Object.keys(s);for(c=0;c<f.length;c++)a=f[c],i.indexOf(a)>=0||(l[a]=s[a]);return l}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(o=0;o<n.length;o++)r=n[o],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(u[r]=t[r])}return u}function me(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function ge(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(a,c){if(a){if(typeof a=="string")return me(a,c);var l=Object.prototype.toString.call(a).slice(8,-1);return l==="Object"&&a.constructor&&(l=a.constructor.name),l==="Map"||l==="Set"?Array.from(a):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?me(a,c):void 0}}(t))||e){r&&(t=r);var o=0,u=function(){};return{s:u,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(a){throw a},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,s=!0,i=!1;return{s:function(){r=r.call(t)},n:function(){var a=r.next();return s=a.done,a},e:function(a){i=!0,n=a},f:function(){try{s||r.return==null||r.return()}finally{if(i)throw n}}}}function oe(t,e){var r,o=e.replacementChars,u=e.replacement,n=e.separate,s=o,i="",a=ge(t);try{for(a.s();!(r=a.n()).done;){var c,l=r.value,f=!Object.prototype.hasOwnProperty.call(u,l)&&((c=u[s[0]])===null||c===void 0?void 0:c.test(l));(n&&l===s[0]||f)&&(s=s.slice(1),i+=l)}}catch(v){a.e(v)}finally{a.f()}return i}function ue(t){return t.length>0?be({},t,/./):{}}function Te(t,e){var r,o=e.mask,u=e.replacement,n=e.showMask,s=0,i="",a=ge(o);try{for(a.s();!(r=a.n()).done;){var c=r.value;if(!n&&t[s]===void 0)break;Object.prototype.hasOwnProperty.call(u,c)&&t[s]!==void 0?i+=t[s++]:i+=c}}catch(l){a.e(l)}finally{a.f()}return i}function Se(t,e){for(var r=e.mask,o=e.replacement,u=[],n=0;n<r.length;n++){var s,i=(s=t[n])!==null&&s!==void 0?s:r[n],a=Object.prototype.hasOwnProperty.call(o,i)?"replacement":t[n]!==void 0&&t[n]!==r[n]?"input":"mask";u.push({type:a,value:i,index:n})}return u}function ye(t,e){for(var r=e.start,o=r===void 0?0:r,u=e.end,n=e.mask,s=e.replacement,i=e.separate,a=t.slice(o,u),c=n.slice(o,u),l="",f=0;f<c.length;f++){var v=Object.prototype.hasOwnProperty.call(s,c[f]);v&&a[f]!==void 0&&a[f]!==c[f]?l+=a[f]:v&&i&&(l+=c[f])}return l}function he(t){for(var e=t.mask,r=t.replacement,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],u=typeof r=="string"?ue(r):r,n=["[","]","\\","/","^","$",".","|","?","*","+","(",")","{","}"],s="",i=0;i<e.length;i++){var a=Object.prototype.hasOwnProperty.call(u,e[i]),c=o?"(?!".concat(e[i],")"):"";i===0&&(s+="^"),s+=a?"".concat(c,"(").concat(u[e[i]].toString().slice(1,-1),")"):n.includes(e[i])?"\\".concat(e[i]):e[i],i===e.length-1&&(s+="$")}return s}function _e(t,e,r){return e=q(e),function(o,u){if(u&&(typeof u=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(o)}(t,ce()?Reflect.construct(e,r||[],q(t).constructor):e.apply(t,r))}function ce(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ce=function(){return!!t})()}function le(t){return le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(t)}function Pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ie(t,e,r){return Object.defineProperty(t,"prototype",{writable:!1}),t}function $e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e)}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(t)}function G(t,e){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},G(t,e)}function ie(t){var e=typeof Map=="function"?new Map:void 0;return ie=function(r){if(r===null||!function(u){try{return Function.toString.call(u).indexOf("[native code]")!==-1}catch{return typeof u=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,o)}function o(){return function(u,n,s){if(ce())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,n);var a=new(u.bind.apply(u,i));return s&&G(a,s.prototype),a}(r,arguments,q(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),G(o,r)},ie(t)}var W=function(t){function e(r,o){var u;return Pe(this,e),(u=_e(this,e,[r])).name="SyntheticChangeError",u.cause=o,u}return $e(e,t),Ie(e)}(ie(Error));function xe(t,e){return C.useCallback(function(r){t.current=r,typeof e=="function"?e(r):le(e)==="object"&&e!==null&&(e.current=r)},[t,e])}function ee(t,e){var r=e.value,o=e.selectionStart,u=e.selectionEnd;r!==void 0&&(t.value=r),o!==void 0&&u!==void 0&&t.setSelectionRange(o,u)}var Me=["text","email","tel","search","url"];function Ve(t){var e=t.init,r=t.tracking,o=t.eventType,u=t.eventHandler,n=C.useRef({timeoutId:-1,fallbackTimeoutId:-1,cachedTimeoutId:-1,start:0,end:0}),s=C.useRef(!0),i=C.useRef(null),a=C.useRef({init:e,tracking:r,eventType:o,eventHandler:u});return a.current.init=e,a.current.tracking=r,a.current.eventType=o,a.current.eventHandler=u,C.useMemo(function(){return function(c,l,f){var v=f.onFocus,p=f.onBlur,h=f.onInput;return new Proxy(c,{set:function(T,m,d){if(m!=="current")return!1;var b=d!==null&&Me.includes(d.type);if(d!==c.current&&(c.current!==null&&(c.current.removeEventListener("focus",v),c.current.removeEventListener("blur",p),c.current.removeEventListener("input",h)),d!==null&&b)){var g,w=(g=d._wrapperState)!==null&&g!==void 0?g:{},O=w.controlled,B=O!==void 0&&O,$=w.initialValue,S=$===void 0?"":$,j=l({controlled:B,initialValue:d.value||S});ee(d,{value:j.value}),document.activeElement===d&&v(),d.addEventListener("focus",v),d.addEventListener("blur",p),d.addEventListener("input",h)}return T[m]=d,!0}})}(i,a.current.init,{onFocus:function(){n.current.timeoutId=window.setTimeout(function c(){var l,f,v,p;s.current?(n.current.start=(l=(f=i.current)===null||f===void 0?void 0:f.selectionStart)!==null&&l!==void 0?l:0,n.current.end=(v=(p=i.current)===null||p===void 0?void 0:p.selectionEnd)!==null&&v!==void 0?v:0,n.current.timeoutId=window.setTimeout(c)):n.current.fallbackTimeoutId=window.setTimeout(c)})},onBlur:function(){window.clearTimeout(n.current.timeoutId),window.clearTimeout(n.current.fallbackTimeoutId),n.current.timeoutId=-1,n.current.fallbackTimeoutId=-1,n.current.cachedTimeoutId=-1},onInput:function(c){var l=i.current;if(l!==null)try{var f,v,p,h,T;if(n.current.cachedTimeoutId===n.current.timeoutId)throw new W("The input selection has not been updated.");n.current.cachedTimeoutId=n.current.timeoutId;var m=l.value,d=l.selectionStart,b=l.selectionEnd;if(d===null||b===null)throw new W("The selection attributes have not been initialized.");var g,w=(f=(v=l._valueTracker)===null||v===void 0||(p=v.getValue)===null||p===void 0?void 0:p.call(v))!==null&&f!==void 0?f:"";if(c.inputType===void 0&&(n.current.start=0,n.current.end=w.length),d>n.current.start?g="insert":d<=n.current.start&&d<n.current.end?g="deleteBackward":d===n.current.end&&m.length<w.length&&(g="deleteForward"),g===void 0||(g==="deleteBackward"||g==="deleteForward")&&m.length>w.length)throw new W("Input type detection error.");var O="",B="",$=n.current.start,S=n.current.end;if(g==="insert")O=m.slice(n.current.start,d);else{var j=w.length-m.length;$=d,S=d+j,B=w.slice($,S)}var M=a.current.tracking({inputType:g,previousValue:w,value:m,addedValue:O,deletedValue:B,changeStart:$,changeEnd:S,selectionStart:d,selectionEnd:b});ee(l,{value:M.value,selectionStart:M.selectionStart,selectionEnd:M.selectionEnd});var A=a.current.eventType,L=a.current.eventHandler;if(typeof A=="string"&&L){var R=l.value,X=l.selectionStart,Y=l.selectionEnd;s.current=!1,requestAnimationFrame(function(){ee(l,{value:R,selectionStart:X??R.length,selectionEnd:Y??R.length});var I=new CustomEvent(A,{bubbles:!0,cancelable:!1,composed:!0,detail:M.__detail});l.dispatchEvent(I),fe.unstable_batchedUpdates?fe.unstable_batchedUpdates(L,I):L(I),s.current=!0})}(h=l._valueTracker)===null||h===void 0||(T=h.setValue)===null||T===void 0||T.call(h,w),n.current.start=M.selectionStart,n.current.end=M.selectionEnd}catch(I){var H,x,U,D,z,J,V,K,k,_,E,P=I,F=P.name,y=P.cause;if(ee(l,{value:(H=(x=y==null||(U=y.__attributes)===null||U===void 0?void 0:U.value)!==null&&x!==void 0?x:(D=l._valueTracker)===null||D===void 0||(z=D.getValue)===null||z===void 0?void 0:z.call(D))!==null&&H!==void 0?H:"",selectionStart:(J=y==null||(V=y.__attributes)===null||V===void 0?void 0:V.selectionStart)!==null&&J!==void 0?J:n.current.start,selectionEnd:(K=y==null||(k=y.__attributes)===null||k===void 0?void 0:k.selectionEnd)!==null&&K!==void 0?K:n.current.end}),(y==null||(_=y.__attributes)===null||_===void 0?void 0:_.selectionStart)!==void 0&&(n.current.start=y.__attributes.selectionStart),(y==null||(E=y.__attributes)===null||E===void 0?void 0:E.selectionEnd)!==void 0&&(n.current.end=y.__attributes.selectionEnd),c.preventDefault(),c.stopPropagation(),F!=="SyntheticChangeError")throw I}}})},[])}function Re(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mask,r=e===void 0?"":e,o=t.replacement,u=o===void 0?{}:o,n=t.showMask,s=n!==void 0&&n,i=t.separate,a=i!==void 0&&i,c=t.track,l=t.modify,f=t.onMask,v=typeof u=="string"?ue(u):u,p=C.useRef(null);return Ve({init:function(h){var T=h.controlled,m=h.initialValue;m=T||m?m:s?r:"";var d={mask:r,replacement:v,showMask:s,separate:a};return p.current={value:m,props:d,fallbackProps:d},{value:m}},tracking:function(h){var T,m=h.inputType,d=h.previousValue,b=h.addedValue,g=h.changeStart,w=h.changeEnd;if(p.current===null)throw new W("The state has not been initialized.");p.current.value!==d?p.current.props=p.current.fallbackProps:p.current.fallbackProps=p.current.props;var O=ye(d,{end:g,mask:p.current.props.mask,replacement:p.current.props.replacement,separate:p.current.props.separate}),B=RegExp("[^".concat(Object.keys(p.current.props.replacement).join(""),"]"),"g"),$=p.current.props.mask.replace(B,"");O&&(O=oe(O,{replacementChars:$,replacement:p.current.props.replacement,separate:p.current.props.separate}));var S=c==null?void 0:c(ae(ae({},m==="insert"?{inputType:m,data:b}:{inputType:m,data:null}),{},{value:d,selectionStart:g,selectionEnd:w}));if(S===!1)throw new W("Custom trekking stop.");if(S===null?b="":S!==!0&&S!==void 0&&(b=S),b&&(b=oe(b,{replacementChars:$.slice(O.length),replacement:p.current.props.replacement,separate:!1})),m==="insert"&&b==="")throw new W("The character does not match the key value of the `replacement` object.");var j=ye(d,{start:w,mask:p.current.props.mask,replacement:p.current.props.replacement,separate:p.current.props.separate});if(p.current.props.separate){var M=p.current.props.mask.slice(g,w).replace(B,""),A=M.length-b.length;A<0?j=j.slice(-A):A>0&&(j=M.slice(-A)+j)}j&&(j=oe(j,{replacementChars:$.slice(O.length+b.length),replacement:p.current.props.replacement,separate:p.current.props.separate}));var L=O+b+j,R=(T=l==null?void 0:l(L))!==null&&T!==void 0?T:{},X=R.mask,Y=X===void 0?r:X,H=R.replacement,x=H===void 0?v:H,U=R.showMask,D=U===void 0?s:U,z=R.separate,J=z===void 0?a:z;typeof x=="string"&&(x=ue(x));var V=function(k,_){var E=_.mask,P=_.replacement,F=_.showMask,y=Te(k,{mask:E,replacement:P,showMask:F}),I=Se(y,{mask:E,replacement:P}),Z=he({mask:E,replacement:P}),te=he({mask:E,replacement:P},!0);return{value:y,input:k,parts:I,pattern:Z,isValid:RegExp(te).test(y)}}(L,{mask:Y,replacement:x,showMask:D}),K=function(k){var _,E,P,F=k.inputType,y=k.value,I=k.addedValue,Z=k.beforeChangeValue,te=k.parts,we=k.replacement,ke=k.separate,re=te.filter(function(ne){var de=ne.type;return de==="input"||ke&&de==="replacement"}),se=(_=re[Z.length+I.length-1])===null||_===void 0?void 0:_.index,N=(E=re[Z.length-1])===null||E===void 0?void 0:E.index,Q=(P=re[Z.length+I.length])===null||P===void 0?void 0:P.index;if(F==="insert"){if(se!==void 0)return se+1;if(Q!==void 0)return Q;if(N!==void 0)return N+1}if(F==="deleteForward"){if(Q!==void 0)return Q;if(N!==void 0)return N+1}if(F==="deleteBackward"){if(N!==void 0)return N+1;if(Q!==void 0)return Q}var pe=y.split("").findIndex(function(ne){return Object.prototype.hasOwnProperty.call(we,ne)});return pe!==-1?pe:y.length}({inputType:m,value:V.value,addedValue:b,beforeChangeValue:O,parts:V.parts,replacement:x,separate:J});return p.current.value=V.value,p.current.props={mask:Y,replacement:x,showMask:D,separate:J},{value:V.value,selectionStart:K,selectionEnd:K,__detail:V}},eventType:"input-mask",eventHandler:f})}var Ce=["component","mask","replacement","showMask","separate","track","modify","onMask"];function Be(t,e){var r=t.component,o=t.mask,u=t.replacement,n=t.showMask,s=t.separate,i=t.track,a=t.modify,c=t.onMask,l=Ee(t,Ce),f=Re({mask:o,replacement:u,showMask:n,separate:s,track:i,modify:a,onMask:c}),v=xe(f,e);return Oe.jsx(r||"input",ae({ref:v},l))}var De=C.forwardRef(Be);export{De as p};
